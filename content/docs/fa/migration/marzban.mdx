---
title: Marzban Ø¨Ù‡ Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø±Ø¯
icon: ArrowRightLeft
---

<Alert type="warning">
Ø§ÛŒÙ† Ø±Ø§Ù‡Ù†Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ `beta-3` Ùˆ Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± Marzban Ù‡Ø³Øª.
</Alert>

Ø§ÛŒÙ† Ø±Ø§Ù‡Ù†Ù…Ø§ Ø¨Ù‡ØªÙˆÙ† Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ù‡ ØªØ§ Ø§Ø·Ù„Ø§Ø¹Ø§ØªØŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ùˆ Ø§Ú©Ø§Ù†Øªâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±ÛŒØªÙˆÙ† Ø±Ùˆ Ø§Ø² Marzban Ø¨Ù‡ Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø±Ø¯ Ù…Ù†ØªÙ‚Ù„ Ú©Ù†ÛŒØ¯ØŒ Ø¨Ø¯ÙˆÙ† Ø§ÛŒÙ†Ú©Ù‡ Ú†ÛŒØ²ÛŒ Ø§Ø² Ø¯Ø³Øª Ø¨Ø±Ù‡.

## Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

> âš ï¸ **Ù…Ù‡Ù…**: Ù‡Ù…ÛŒØ´Ù‡ Ù‚Ø¨Ù„ Ø§Ø² Ø´Ø±ÙˆØ¹ ÙØ±Ø¢ÛŒÙ†Ø¯ Ù…Ù‡Ø§Ø¬Ø±ØªØŒ ÛŒÙ‡ Ø¨Ú©â€ŒØ¢Ù¾ Ú©Ø§Ù…Ù„ Ø§Ø² Ø§Ø·Ù„Ø§Ø¹Ø§ØªØªÙˆÙ† Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯.

- Ù…Ø·Ù…Ø¦Ù† Ø´ÛŒØ¯ Ú©Ù‡ Ø¨Ù‡ Ø³Ø±ÙˆØ±ØªÙˆÙ† Ø¯Ø³ØªØ±Ø³ÛŒ root Ø¯Ø§Ø±ÛŒØ¯.
- ÛŒÙ‡ Ø¨Ú©â€ŒØ¢Ù¾ Ø§Ø² Ù†ØµØ¨ ÙØ¹Ù„ÛŒ Marzban Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯.
- Ú†Ú© Ú©Ù†ÛŒØ¯ Ú©Ù‡ Docker Ùˆ Docker Compose Ù†ØµØ¨ Ø¨Ø§Ø´Ù†.

## Ù…Ø±Ø§Ø­Ù„ Ù…Ù‡Ø§Ø¬Ø±Øª

### 1. Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Marzban Ø±Ùˆ Ù…ØªÙˆÙ‚Ù Ú©Ù†ÛŒØ¯

Ø§ÙˆÙ„ Ø§Ø² Ù‡Ù…Ù‡ØŒ Ù‡Ù…Ù‡ Ú©Ø§Ù†ØªÛŒÙ†Ø±Ù‡Ø§ÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§ÛŒ Marzban Ø±Ùˆ Ù…ØªÙˆÙ‚Ù Ú©Ù†ÛŒØ¯:

#### Ø¯Ø³ØªÙˆØ±Ø§Øª ØªÙˆÙ‚Ù Ø³Ø±ÙˆÛŒØ³

```bash
cd /opt/marzban
docker compose down
```

### 2. Ø§Ø³Ù… Ù¾ÙˆØ´Ù‡ Ø§ØµÙ„ÛŒ Ø±Ùˆ Ø¹ÙˆØ¶ Ú©Ù†ÛŒØ¯

Ø§Ú¯Ø± Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø±Ø¯ Ø§Ø² Ù‚Ø¨Ù„ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ù†Ø¯ØŒ Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯:

#### Ø¯Ø³ØªÙˆØ± Ø­Ø°Ù Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§

```bash
rm -r /opt/pasarguard /var/lib/pasarguard /var/lib/mysql/pasarguard
```

Ø§Ø³Ù… Ù¾ÙˆØ´Ù‡ Ø§ØµÙ„ÛŒ Marzban Ø±Ùˆ Ø¨Ù‡ PasarGuard ØªØºÛŒÛŒØ± Ø¨Ø¯ÛŒØ¯:

#### Ø¯Ø³ØªÙˆØ± ØªØºÛŒÛŒØ± Ù†Ø§Ù… Ù¾ÙˆØ´Ù‡

```bash
sudo mv /opt/marzban /opt/pasarguard
```

### 3. Ø§Ø³Ù… Ù¾ÙˆØ´Ù‡ Ø¯ÛŒØªØ§ Ø±Ùˆ Ø¹ÙˆØ¶ Ú©Ù†ÛŒØ¯

Ø§Ø³Ù… Ù¾ÙˆØ´Ù‡ Ø¯ÛŒØªØ§ Ø±Ùˆ Ù‡Ù… ØªØºÛŒÛŒØ± Ø¨Ø¯ÛŒØ¯:

#### Ø¯Ø³ØªÙˆØ± ØªØºÛŒÛŒØ± Ù†Ø§Ù… Ù¾ÙˆØ´Ù‡ Ø¯ÛŒØªØ§

```bash
sudo mv /var/lib/marzban /var/lib/pasarguard
```

### 4. Ø§Ø³Ù… Ù¾ÙˆØ´Ù‡ MySQL Ø±Ùˆ Ø¹ÙˆØ¶ Ú©Ù†ÛŒØ¯ (Ø§Ú¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯)

Ø§Ú¯Ù‡ Ø§Ø² MySQL Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ Ùˆ ÛŒÙ‡ Ù¾ÙˆØ´Ù‡ Ø§Ø®ØªØµØ§ØµÛŒ Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Marzban Ø¯Ø§Ø±ÛŒØ¯:

#### Ø¯Ø³ØªÙˆØ± ØªØºÛŒÛŒØ± Ù†Ø§Ù… Ù¾ÙˆØ´Ù‡ MySQL

```bash
sudo mv /var/lib/mysql/marzban /var/lib/mysql/pasarguard
```

<Alert type="info">
Ø§Ú¯Ø± Ø¨Ø§ Ø®Ø·Ø§ÛŒ Â«ÙØ§ÛŒÙ„ ÛŒØ§ Ù¾ÙˆØ´Ù‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯Â» Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯ÛŒØ¯ØŒ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù¾ÙˆØ´Ù‡ MySQL Ù…ØªÙØ§ÙˆØª Ø¨Ø§Ø´Ø¯. Ø¯Ø± Ø§ÛŒÙ† ØµÙˆØ±Øª Ø§Ø² Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:
```bash
mkdir -p /var/lib/mysql/pasarguard
mv /var/lib/pasarguard/mysql/* /var/lib/mysql/pasarguard
rm -r /var/lib/pasarguard/mysql
```
</Alert>

### 5. Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ Ø±Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ² Ú©Ù†ÛŒØ¯

Ø¨Ø±ÛŒØ¯ Ø¨Ù‡ Ù¾ÙˆØ´Ù‡ Ø¬Ø¯ÛŒØ¯ PasarGuard Ùˆ ÙØ§ÛŒÙ„ Ù…Ø­ÛŒØ·ÛŒ Ø±Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ² Ú©Ù†ÛŒØ¯:

```bash
cd /opt/pasarguard
```

Ù‡Ù…Ù‡ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø§Ø´Ø§Ø±Ù‡ Ø´Ø¯Ù‡ ØªÙˆ ÙØ§ÛŒÙ„ `.env` Ø±Ùˆ Ø¨Ø§ ÛŒÙ‡ Ø¯Ø³ØªÙˆØ± Ø³Ø§Ø¯Ù‡ Ø¨Ù‡â€ŒØ±ÙˆØ² Ú©Ù†ÛŒØ¯:

```bash
sudo sed -i 's|/var/lib/marzban|/var/lib/pasarguard|g' .env
```

<Alert type="warning">
Ø§Ú¯Ù‡ Ø§Ø² Ù†Ø³Ø®Ù‡ Ù‚Ø¯ÛŒÙ…ÛŒ (0.8.4 ÛŒØ§ Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ±) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ø¨Ø§ÛŒØ¯ Ø¯Ø±Ø§ÛŒÙˆØ± SQL Ø±Ùˆ Ù‡Ù… ØªØºÛŒÛŒØ± Ø¨Ø¯ÛŒØ¯:
</Alert>

```bash
nano .env
```

<Tabs items={['SQLite', 'MySQL']}>
  <Tab value="SQLite">
    ### Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø±Ø§ÛŒÙˆØ± SQLite

    âŒ Ù‚Ø¯ÛŒÙ…ÛŒ
    ```bash
    SQLALCHEMY_DATABASE_URL = "sqlite:///db.sqlite3"
    ```
    âœ… Ø¬Ø¯ÛŒØ¯
    ```bash
    SQLALCHEMY_DATABASE_URL = "sqlite+aiosqlite:///db.sqlite3"
    ```
  </Tab>
  <Tab value="MySQL">
    ### Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø±Ø§ÛŒÙˆØ± MySQL

    âŒ Ù‚Ø¯ÛŒÙ…ÛŒ
    ```bash
    SQLALCHEMY_DATABASE_URL = "mysql+pymysql://root:MYSQL_ROOT_PASSWORD@127.0.0.1/marzban"
    ```
    âœ… Ø¬Ø¯ÛŒØ¯
    ```bash
    SQLALCHEMY_DATABASE_URL = "mysql+asyncmy://root:MYSQL_ROOT_PASSWORD@127.0.0.1/pasarguard"
    ```
  </Tab>
</Tabs>

### 6. ÙØ§ÛŒÙ„ Docker Compose Ø±Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ² Ú©Ù†ÛŒØ¯

ÙØ§ÛŒÙ„ `docker-compose.yml` Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ù†Ø´ÙˆÙ† Ø¯Ø§Ø¯Ù† Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡â€ŒØ±ÙˆØ² Ú©Ù†ÛŒØ¯. Ø¨Ø§ÛŒØ¯ Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ø±Ùˆ Ø¯Ø³ØªÛŒ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯:

```bash
sudo nano docker-compose.yml
```

#### ØªØºÛŒÛŒØ±Ø§Øª Docker Compose

Ø§ÛŒÙ†Ø¬Ø§ ÛŒÙ‡ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù‡Ø³Øª Ú©Ù‡ ØªØºÛŒÛŒØ±Ø§Øª Ù„Ø§Ø²Ù… Ø±Ùˆ Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯Ù‡:

<div className="grid md:grid-cols-2 gap-4">

<div className="space-y-2">

**âŒ Ù‚Ø¨Ù„ (Marzban)**
```yaml
services:
  marzban:
    image: gozargah/marzban:latest
    restart: always
    env_file: .env
    network_mode: host
    volumes:
      - /var/lib/marzban:/var/lib/marzban
    depends_on:
      - mysql

  mysql:
    image: mysql:lts
    restart: always
    env_file: .env
    network_mode: host
    command: --bind-address=127.0.0.1 --mysqlx-bind-address=127.0.0.1 --disable-log-bin
    environment:
      MYSQL_DATABASE: marzban
    volumes:
      - /var/lib/mysql/marzban:/var/lib/mysql
```

</div>

<div className="space-y-2">

**âœ… Ø¨Ø¹Ø¯ (PasarGuard)**
```yaml
services:
  pasarguard:
    image: pasarguard/panel:latest
    restart: always
    env_file: .env
    network_mode: host
    volumes:
      - /var/lib/pasarguard:/var/lib/pasarguard
    depends_on:
      - mysql

  mysql:
    image: mysql:lts
    restart: always
    env_file: .env
    network_mode: host
    command: --bind-address=127.0.0.1 --mysqlx-bind-address=127.0.0.1 --disable-log-bin
    environment:
      MYSQL_DATABASE: pasarguard
    volumes:
      - /var/lib/mysql/pasarguard:/var/lib/mysql
```

</div>

</div>

#### Ø®Ù„Ø§ØµÙ‡ ØªØºÛŒÛŒØ±Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ:

<div className="overflow-x-auto">
<table>
<thead>
<tr>
<th>Ø¨Ø®Ø´</th>
<th>Ù‚Ø¨Ù„</th>
<th>Ø¨Ø¹Ø¯</th>
</tr>
</thead>
<tbody>
<tr>
<td data-label="Ø¨Ø®Ø´"><strong>Ø§Ø³Ù… Ø³Ø±ÙˆÛŒØ³</strong></td>
<td data-label="Ù‚Ø¨Ù„"><code>marzban</code></td>
<td data-label="Ø¨Ø¹Ø¯"><code>pasarguard</code></td>
</tr>
<tr>
<td data-label="Ø¨Ø®Ø´"><strong>Ø§ÛŒÙ…ÛŒØ¬ Docker</strong></td>
<td data-label="Ù‚Ø¨Ù„"><code>gozargah/marzban:latest</code></td>
<td data-label="Ø¨Ø¹Ø¯"><code>pasarguard/panel:latest</code></td>
</tr>
<tr>
<td data-label="Ø¨Ø®Ø´"><strong>ÙˆÙ„ÙˆÙ… Ø¨Ø±Ù†Ø§Ù…Ù‡</strong></td>
<td data-label="Ù‚Ø¨Ù„"><code>/var/lib/marzban:/var/lib/marzban</code></td>
<td data-label="Ø¨Ø¹Ø¯"><code>/var/lib/pasarguard:/var/lib/pasarguard</code></td>
</tr>
<tr>
<td data-label="Ø¨Ø®Ø´"><strong>Ø¯ÛŒØªØ§Ø¨ÛŒØ³ MySQL</strong></td>
<td data-label="Ù‚Ø¨Ù„"><code>marzban</code></td>
<td data-label="Ø¨Ø¹Ø¯"><code>pasarguard</code></td>
</tr>
<tr>
<td data-label="Ø¨Ø®Ø´"><strong>ÙˆÙ„ÙˆÙ… MySQL</strong></td>
<td data-label="Ù‚Ø¨Ù„"><code>/var/lib/mysql/marzban:/var/lib/mysql</code></td>
<td data-label="Ø¨Ø¹Ø¯"><code>/var/lib/mysql/pasarguard:/var/lib/mysql</code></td>
</tr>
</tbody>
</table>
</div>

<Alert type="info">
Ø¨Ø¯ÛŒÙ‡ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø§Ú¯Ø± Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ SQLite Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ù†Ø¨Ø§ÛŒØ¯ Ø®Ø·ÙˆØ· Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ MySQL Ø±Ùˆ Ø¨Ù‡ ÙØ§ÛŒÙ„ Ø®ÙˆØ¯ØªÙˆÙ† Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯. ÙÙ‚Ø· Ù†Ù…ÙˆÙ†Ù‡ Ø±Ùˆ Ø¨Ø§ ÙØ§ÛŒÙ„ Ø®ÙˆØ¯ØªÙˆÙ† Ù…Ù‚Ø§ÛŒØ³Ù‡ Ú©Ù†ÛŒØ¯ Ùˆ ØªØºÛŒÛŒØ±Ø§Øª Ø±Ùˆ Ø§Ø¹Ù…Ø§Ù„ Ú©Ù†ÛŒØ¯.
</Alert>

### 7. ØªØºÛŒÛŒØ± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ MySQL Ù…Ø±Ø²Ø¨Ø§Ù† Ø¨Ù‡ Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø±Ø¯ (Ø¯Ø± ØµÙˆØ±Øª Ø§Ø³ØªÙØ§Ø¯Ù‡)

Ø§Ú¯Ø± Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ SQLite Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ø±Ùˆ Ø±Ø¯ Ú©Ù†ÛŒØ¯.
Ø§Ù…Ø§ Ø§Ú¯Ø± Ø§Ø² MySQL Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ø¨Ø§ÛŒØ¯ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…Ø±Ø²Ø¨Ø§Ù† Ø±Ùˆ Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ú¯ÛŒØ±ÛŒØ¯ ØªØ§ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¯ÛŒØªØ§Ø¨ÛŒØ³ PasarGuard ÙˆØ§Ø±Ø¯ Ø¨Ø´Ù‡.

#### Ú¯Ø±ÙØªÙ† Ø®Ø±ÙˆØ¬ÛŒ Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…Ø±Ø²Ø¨Ø§Ù†

#### Ø§Ø¬Ø±Ø§ÛŒ MySQL

```bash
cd /opt/pasarguard && docker compose up -d mysql
```

#### Ú¯Ø±ÙØªÙ† Dump Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³
Ø¯Ø± Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ø§Ø²ØªÙˆÙ† Ù¾Ø³ÙˆØ±Ø¯ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø®ÙˆØ§Ø³ØªÙ‡ Ù…ÛŒØ´Ù‡. Ù‡Ù…ÙˆÙ† Ù…Ù‚Ø¯Ø§Ø± `MYSQL_ROOT_PASSWORD` Ú©Ù‡ Ø¯Ø§Ø®Ù„ ÙØ§ÛŒÙ„ `.env` Ù‡Ø³Øª Ø±Ùˆ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:
```bash
docker compose exec mysql mysqldump -u root -p -h 127.0.0.1 --databases marzban > "/opt/pasarguard/pasarguard.sql"
```

<Alert type="info">
Ø§Ú¯Ø± Ø¨Ø§ Ø®Ø·Ø§ÛŒ "Access Denied" Ø±ÙˆØ¨Ù‡â€ŒØ±Ùˆ Ø´Ø¯ÛŒØ¯ØŒ Ø¨Ù‡ Ø¬Ø§ÛŒ ÛŒÙˆØ²Ø± `root` Ø§Ø² ÛŒÙˆØ²Ø± `marzban` Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ù¾Ø³ÙˆØ±Ø¯ `MYSQL_PASSWORD` Ø¯Ø§Ø®Ù„ `.env` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:
```bash
docker compose exec mysql mysqldump -u marzban -p -h 127.0.0.1 --databases marzban > "/opt/pasarguard/pasarguard.sql"
```
</Alert>

#### ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯ÛŒØªØ§Ø¨ÛŒØ³

Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ø®ÛŒÙ„ÛŒ Ù…Ù‡Ù…Ù‡ Ú†ÙˆÙ† Ø¨Ø§ÛŒØ¯ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ pasarguard Ø¯Ø§Ø®Ù„ MySQL Ø³Ø§Ø®ØªÙ‡ Ø¨Ø´Ù‡.
Ø¨Ø§ Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø§Ø³Ù… "marzban" Ø¨Ù‡ "pasarguard" ØªÙˆÛŒ Ø¯Ùˆ Ø®Ø· Ù…Ù‡Ù… (`CREATE DATABASE` Ùˆ `USE`) ØªØºÛŒÛŒØ± Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡:

```bash
sed -i '/^CREATE DATABASE/s/marzban/pasarguard/;/^USE/s/marzban/pasarguard/' /opt/pasarguard/pasarguard.sql
```

#### ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø±Ø¯

Ø¨Ø±Ø§ÛŒ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø¬Ø¯ÛŒØ¯ØŒ Ù…Ù‚Ø¯Ø§Ø± `MYSQL_ROOT_PASSWORD` Ú©Ù‡ Ø¯Ø§Ø®Ù„ `.env` Ù‡Ø³Øª Ø±Ùˆ Ø¯Ø± Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯ Ùˆ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯:

```bash
docker compose exec -T mysql mysql -u root -p"MYSQL_ROOT_PASSWORD" -h 127.0.0.1 < "/opt/pasarguard/pasarguard.sql"
```

Ø±ÙˆØ´ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†: Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒØ¯ Ø¨Ø§ `phpMyAdmin` Ù‡Ù… Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø±Ùˆ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.
Ø³Ø±ÙˆÛŒØ³ `phpMyAdmin` Ø±Ùˆ Ø¨Ù‡ ÙØ§ÛŒÙ„ Docker Compose Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ Ùˆ Ø±ÛŒâ€ŒØ§Ø³ØªØ§Ø±Øª Ú©Ù†ÛŒØ¯.
ÙØ§ÛŒÙ„ Ø¨Ú©Ø§Ù¾ `marzban.sql` Ø±Ùˆ Ø¨Ø§ ÛŒÚ© ÙˆÛŒØ±Ø§ÛŒØ´Ú¯Ø± Ù…ØªÙ† Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯.
Ø§Ø³Ù… `marzban` Ø±Ùˆ Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ÛŒ ÙØ§ÛŒÙ„ (Ø®Ø·â€ŒÙ‡Ø§ÛŒ `CREATE DATABASE` Ùˆ `USE`) Ø¨Ù‡ `pasarguard` ØªØºÛŒÛŒØ± Ø¨Ø¯ÛŒØ¯.
ÙØ§ÛŒÙ„ Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒØ¯ Ùˆ Ø§Ø² Ø·Ø±ÛŒÙ‚ `phpMyAdmin` Ø§ÛŒÙ…Ù¾ÙˆØ±Øª Ú©Ù†ÛŒØ¯.

#### Ø­Ø°Ù Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…Ø±Ø²Ø¨Ø§Ù†

Ø¨Ø±Ø§ÛŒ Ø­Ø°Ù Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…Ø±Ø²Ø¨Ø§Ù†ØŒ Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø±Ùˆ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ù¾Ø³ÙˆØ±Ø¯ Ø±Ùˆ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…Ù‚Ø¯Ø§Ø± `MYSQL_ROOT_PASSWORD` Ø¯Ø§Ø®Ù„ `.env`):

<Alert type="warning">
Ø­ØªÙ…Ø§Ù‹ Ù‚Ø¨Ù„ Ø§Ø² Ø­Ø°ÙØŒ Ø¨Ú©Ø§Ù¾ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ Ùˆ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø§Ø´ÛŒØ¯ Ø¯Ø± ØµÙˆØ±Øª Ù…Ø´Ú©Ù„ Ø¨ØªÙˆÙ†ÛŒØ¯ Ø¯ÛŒØªØ§ Ø±Ùˆ Ø¨Ø±Ú¯Ø±Ø¯ÙˆÙ†ÛŒØ¯.
</Alert>

```bash
rm /opt/pasarguard/pasarguard.sql
docker compose exec mysql mysql -u root -p -e "DROP DATABASE marzban;"
```

### 8. Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø±Ø¯ Ø±Ùˆ Ù†ØµØ¨ Ú©Ù†ÛŒØ¯

Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø±Ø¯ Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ø§Ø­Øªâ€ŒØªØ± Ù†ØµØ¨ Ú©Ù†ÛŒØ¯:

#### Ø¯Ø³ØªÙˆØ± Ù†ØµØ¨ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª

```bash
sudo bash -c "$(curl -sL https://github.com/PasarGuard/scripts/raw/main/pasarguard.sh)" @ install-script
```

Ø§ÛŒÙ† Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¯Ø³ØªÙˆØ±Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù†ØµØ¨ Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø±Ø¯ Ø¨Ù‡ØªÙˆÙ† Ù…ÛŒØ¯Ù‡.

### 9. Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø±Ø¯ Ø±Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯

Ø­Ø§Ù„Ø§ Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø±Ø¯ Ø±Ùˆ Ø¨Ø§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¬Ø¯ÛŒØ¯ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯:

#### Ø¯Ø³ØªÙˆØ± Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ

```bash
pasarguard restart
```

### 10. Ù…Ù‡Ø§Ø¬Ø±Øª Ø±Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯

Ú†Ú© Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ù‡Ù…Ù‡ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ Ø¯Ø±Ø³Øª Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù†:

#### Ø¯Ø³ØªÙˆØ±Ø§Øª Ø¨Ø±Ø±Ø³ÛŒ

```bash
pasarguard status
```

Ø¢Ø¯Ø±Ø³ Ù¾Ù†Ù„ØªÙˆÙ† Ø±Ùˆ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯ ØªØ§ Ù…Ø·Ù…Ø¦Ù† Ø´ÛŒØ¯ Ù‡Ù…Ù‡ Ú†ÛŒ Ø§ÙˆÚ©ÛŒÙ‡.

## Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

### Ù…Ø´Ú©Ù„Ø§Øª Ø±Ø§ÛŒØ¬

> ğŸ’¡ **Ù†Ú©ØªÙ‡**: Ø¨ÛŒØ´ØªØ± Ù…Ø´Ú©Ù„Ø§Øª Ø¨Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ ÙØ§ÛŒÙ„ Ùˆ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø³ÛŒØ±Ù‡Ø§ Ø­Ù„ Ù…ÛŒØ´Ù†.

**1. Ø§Ø¬Ø§Ø²Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯ (Permission Denied)**
Ù…Ø·Ù…Ø¦Ù† Ø´ÛŒØ¯ Ú©Ù‡ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø±Ùˆ Ø¨Ø§ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø§Ø³Ø¨ (sudo Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø²) Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯.

**2. Ù…Ø´Ú©Ù„Ø§Øª Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯ÛŒØªØ§Ø¨ÛŒØ³**
Ø§Ú¯Ù‡ Ø§Ø² MySQL Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ú†Ú© Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ±ÙˆØ¯ Ø¯Ø±Ø³Øª Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ù†.

**3. ØªØ¯Ø§Ø®Ù„ Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§**
Ù…Ø·Ù…Ø¦Ù† Ø´ÛŒØ¯ Ú©Ù‡ Ù‡ÛŒÚ† Ø³Ø±ÙˆÛŒØ³ Ø¯ÛŒÚ¯Ù‡â€ŒØ§ÛŒ Ø§Ø² Ù‡Ù…ÙˆÙ† Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

**4. Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ Ú¯Ù… Ø´Ø¯Ù‡**
Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ú†Ú© Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ù‡Ù…Ù‡ Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ ØªÙˆ ÙØ§ÛŒÙ„ `.env` Ø¯Ø±Ø³Øª Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ù†.

### Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ù†Ø³Ø®Ù‡ Ù‚Ø¨Ù„

> âš ï¸ **Ø¨Ø§Ø²Ú¯Ø´Øª Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒ**: Ø§Ú¯Ù‡ Ø¨Ø§ Ù…Ø´Ú©Ù„Ø§Øª Ø¬Ø¯ÛŒ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯ÛŒØ¯ Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù†Ø³Ø®Ù‡ Ù‚Ø¨Ù„ Ø¯Ø§Ø±ÛŒØ¯

```bash
# Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø±Ø¯ Ø±Ùˆ Ù…ØªÙˆÙ‚Ù Ú©Ù†ÛŒØ¯
cd /opt/pasarguard
docker compose down

# Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ Ø±Ùˆ Ø¨Ø±Ú¯Ø±Ø¯ÙˆÙ†ÛŒØ¯
sudo mv /opt/pasarguard /opt/marzban
sudo mv /var/lib/pasarguard /var/lib/marzban
sudo mv /var/lib/mysql/pasarguard /var/lib/mysql/marzban  # Ø§Ú¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯

# ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ docker-compose.yml Ùˆ .env Ø§ØµÙ„ÛŒ Ø±Ùˆ Ø§Ø² Ø¨Ú©â€ŒØ¢Ù¾ Ø¨Ø±Ú¯Ø±Ø¯ÙˆÙ†ÛŒØ¯
# Ø¨Ø¹Ø¯ Marzban Ø±Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯
marzban up
```

## Ø¨Ø¹Ø¯ Ø§Ø² Ù…Ù‡Ø§Ø¬Ø±Øª

Ø¨Ø¹Ø¯ Ø§Ø² Ù…Ù‡Ø§Ø¬Ø±Øª Ù…ÙˆÙÙ‚:

- **ğŸ“Š Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø±Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ² Ú©Ù†ÛŒØ¯**: Ø§Ú¯Ù‡ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø¯Ø§Ø±ÛŒØ¯ØŒ Ø§ÙˆÙ†â€ŒÙ‡Ø§ Ø±Ùˆ Ø¨Ù‡ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ù…ØªØµÙ„ Ú©Ù†ÛŒØ¯.
- **ğŸ’¾ Ø¨Ú©â€ŒØ¢Ù¾â€ŒÙ‡Ø§ Ø±Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ² Ú©Ù†ÛŒØ¯**: Ù…Ø·Ù…Ø¦Ù† Ø´ÛŒØ¯ Ú©Ù‡ Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ú©â€ŒØ¢Ù¾ØªÙˆÙ† Ø¨Ø±Ø§ÛŒ Ø¨Ú©â€ŒØ¢Ù¾ Ú¯Ø±ÙØªÙ† Ø§Ø² Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù†.
- **ğŸ§ª Ù‡Ù…Ù‡ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ Ø±Ùˆ ØªØ³Øª Ú©Ù†ÛŒØ¯**: Ù‡Ù…Ù‡ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù¾Ù†Ù„ Ø±Ùˆ Ú©Ø§Ù…Ù„ ØªØ³Øª Ú©Ù†ÛŒØ¯ ØªØ§ Ù…Ø·Ù…Ø¦Ù† Ø´ÛŒØ¯ Ù‡Ù…Ù‡ Ú†ÛŒ Ø¯Ø±Ø³Øª Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

## Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

ğŸ”— **Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§**

- **Ú¯Ø±ÙˆÙ‡ Ø¨Ø­Ø« Ùˆ Ú¯ÙØªÚ¯Ùˆ**: [Telegram](https://t.me/PasarGuardGP)
- **Ù…Ø´Ú©Ù„Ø§Øª**: Ø§Ú¯Ù‡ ØªÙˆ Ø·ÙˆÙ„ Ù…Ù‡Ø§Ø¬Ø±Øª Ø¨Ù‡ Ù…Ø´Ú©Ù„ÛŒ Ø¨Ø±Ø®ÙˆØ±Ø¯ÛŒØ¯ØŒ ÛŒÙ‡ issue Ø¨Ø³Ø§Ø²ÛŒØ¯.

---

> **ğŸ“ Ù†Ú©ØªÙ‡**: Ø§ÛŒÙ† Ø±Ø§Ù‡Ù†Ù…Ø§ ÙØ±Ø¶ Ø±Ùˆ Ø¨Ø± Ø§ÛŒÙ† Ù…ÛŒØ°Ø§Ø±Ù‡ Ú©Ù‡ Ù†ØµØ¨ Marzban Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø¨ÙˆØ¯Ù‡. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø´Ø®ØµÛŒ Ù…Ù…Ú©Ù†Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø±Ø§Ø­Ù„ Ø§Ø¶Ø§ÙÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†.
